#include<stdio.h>
#include<stdlib.h>
#include<time.h>
int u=0;
int z=0;
int main ()
{
    void luna(int x);
    int i,v,total;
    srand(time(NULL));
	printf("------------- * ------------\n");
	printf("不想玩的时候戳#号键就行了(￣.￣)+\n");
    printf("How many questions do you want?\n");
	printf("------------- * ------------\n");
    scanf("%d",&total);
    for(i=0;i<total;i++)
        {
          v=11*rand()/RAND_MAX;
          luna(5);
		  if(getchar()=='#')
		  {
			  z--;
			  break;
		  }
        }
    printf("Right:%d\n",u);
    printf("Wrong:%d",z);
    return 0;
}
void luna(int x)
{
	int orgina,orginb;
    int a,b,c,d,multiple,factor,result,right,numerator,answer,answert,y1,y2,t,j,k,w;
    a=10*rand()/RAND_MAX;
    b=10*rand()/RAND_MAX;
    c=10*rand()/RAND_MAX;
    d=10*rand()/RAND_MAX;
	if(x==0)
	{
		while(a==0||b==0||d==0||c==0)
		{
			a=10*rand()/RAND_MAX;
			b=10*rand()/RAND_MAX;
			c=10*rand()/RAND_MAX;
			d=10*rand()/RAND_MAX;
		}
		printf("%d/%d+%d/%d=?\n",a,b,c,d);
		y1=b;
		y2=d;
		for(;;)
		{
			t=y1%y2;
			if(t!=0)
			{
				y1=y2;
				y2=t;
			}
			else
			{
				factor=y2;
				multiple=b*d/y2;
				break;
			}
		}
		numerator=a*multiple/b+c*multiple/d;
		orgina = numerator;
        orginb = multiple;
       while(multiple!= 0)
       {
           t =numerator%multiple;
           numerator = multiple;
           multiple= t;
       }
		scanf("%d/%d",&answer,&answert);
		if(answer==(orgina/numerator)&&answert==(orginb/numerator))
			u++;
		else
			z++;
	}
}
